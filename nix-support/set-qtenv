QT_PLUGIN_PATH=${QT_PLUGIN_PATH:+':'$QT_PLUGIN_PATH':'}
QT_PLUGIN_PATH=${QT_PLUGIN_PATH/':''@qtPluginPath@'':'/':'}
QT_PLUGIN_PATH='@qtPluginPath@'$QT_PLUGIN_PATH
QT_PLUGIN_PATH=${QT_PLUGIN_PATH#':'}
QT_PLUGIN_PATH=${QT_PLUGIN_PATH%':'}
export QT_PLUGIN_PATH

if test "$(uname)" = "Linux"; then
  LD_LIBRARY_PATH=${LD_LIBRARY_PATH:+':'$LD_LIBRARY_PATH':'}
  LD_LIBRARY_PATH=${LD_LIBRARY_PATH/':''@ldLibraryPath@'':'/':'}
  LD_LIBRARY_PATH='@ldLibraryPath@'$LD_LIBRARY_PATH
  LD_LIBRARY_PATH=${LD_LIBRARY_PATH#':'}
  LD_LIBRARY_PATH=${LD_LIBRARY_PATH%':'}
  export LD_LIBRARY_PATH
fi

if test "$(uname)" = "Darwin"; then
  DYLD_FALLBACK_LIBRARY_PATH=${DYLD_FALLBACK_LIBRARY_PATH:+':'$DYLD_FALLBACK_LIBRARY_PATH':'}
  DYLD_FALLBACK_LIBRARY_PATH=${DYLD_FALLBACK_LIBRARY_PATH/':''@ldLibraryPath@'':'/':'}
  DYLD_FALLBACK_LIBRARY_PATH='@ldLibraryPath@'$DYLD_FALLBACK_LIBRARY_PATH
  DYLD_FALLBACK_LIBRARY_PATH=${DYLD_FALLBACK_LIBRARY_PATH#':'}
  DYLD_FALLBACK_LIBRARY_PATH=${DYLD_FALLBACK_LIBRARY_PATH%':'}
  export DYLD_FALLBACK_LIBRARY_PATH
fi

# disable GL support as NIX does not play nicely with OpenGL (except on nixOS)
export QT_XCB_GL_INTEGRATION=none

if test -z "$DISPLAY"; then
  export DISPLAY=:0
fi

if test -z "$XDG_RUNTIME_DIR"; then
  export XDG_RUNTIME_DIR=$TMPDIR/xdg_runtime
fi

if test -z "$HOME"; then
  export HOME=$TMPDIR/xdg_home
fi